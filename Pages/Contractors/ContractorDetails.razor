@page "/contractors/{id}"

<PageTitle>Contractors</PageTitle>

@using BlazorApp1.Data
@using BlazorApp1.Services

@inject ContractorService ContractorService
@inject AddressService AddressService

<h1>@id</h1>

@if (contractor == null)
{
}
else{
<div scope="row">@contractor.nip</div>
<div scope="row">@contractor.name</div>
<div scope="row">@contractor.country_id</div>
<div scope="row">@contractor.address.street</div>
   <div scope="row">@contractor.address.city</div>
    <div scope="row">@contractor.address.postal_code</div>

}

@code {
    [Parameter]
    public string? id { get; set; }


    private Contractor? contractor;

    protected override async Task OnInitializedAsync()
    {
        var contractors_service = await ContractorService.GetContractorAsync(id);

        contractor = contractors_service;
    }
}