@page "/routes/{id}"

<PageTitle>Routes</PageTitle>

@using BlazorApp1.Data
@using BlazorApp1.Services

@inject RouteService RouteService
@inject DriverService DriverService
@inject VehicleService VehicleService
@inject ContractorService ContractorService

<h3>Details of the Selected Route</h3>

@if (trail == null)
{
}
else
{
    
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col text-center">ID</th>
                <th scope="col text-center">Pesel</th>
                <th scope="col text-center">Name</th>
                <th scope="col text-center">Surname</th>
                <th scope="col text-center">NIP</th>
                <th scope="col text-center">Contractor</th>
                <th scope="col text-center">VIN</th>
                    <th scope="col text-center">Fuel Usage</th>
                <th scope="col text-center">Date</th>
                <th scope="col text-center">Begin</th>
                <th scope="col text-center">End</th>
                <th scope="col text-center">Distance</th>

            </tr>
        </thead>
        <tbody>



            <tr>

                <td scope="row">@trail.route_id</td>
                <td scope="row">@trail.driver.pesel</td>
                <td scope="row">@trail.driver.name</td>
                <td scope="row">@trail.driver.surname</td>
                <td scope="row">@trail.contractor.nip</td>
                <td scope="row">@trail.contractor.name</td>
                <td scope="row">@trail.vehicle.vin</td>
                <td scope="row">@trail.vehicle.fuel_usage</td>
                <td scope="row">@trail.date</td>
                <td scope="row">@trail.begin</td>
                    <td scope="row">@trail.end</td>
                <td scope="row">@trail.distance</td>


            </tr>

        </tbody>
    </table>


}

@code {
    [Parameter]
    public string? id { get; set; }


    private Trail? trail;

    protected override async Task OnInitializedAsync()
    {
        var trails_service = await RouteService.GetRouteAsync(id);

        trail = trails_service;
    }
}
