@page "/contractors/{id}"

<PageTitle>Contractors</PageTitle>

@using BlazorApp1.Data
@using BlazorApp1.Services

@inject ContractorService ContractorService
@inject AddressService AddressService

<h3>Details of the Selected Contractor</h3>

@if (contractor == null)
{
}
else{

    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col text-center">NIP</th>
                <th scope="col text-center">Name</th>
                <th scope="col text-center">Country ID</th>
                <th scope="col text-center">Street</th>
                <th scope="col text-center">City</th>
                <th scope="col text-center">Postal Code</th>
                


            </tr>
        </thead>
        <tbody>



            <tr>

                <td scope="row">@contractor.nip</td>
                <td scope="row">@contractor.name</td>
                <td scope="row">@contractor.country_id</td>
                <td scope="row">@contractor.address.street</td>
                <td scope="row">@contractor.address.city</td>
                <td scope="row">@contractor.address.postal_code</td>


            </tr>

        </tbody>
    </table>
}

@code {
    [Parameter]
    public string? id { get; set; }


    private Contractor? contractor;

    protected override async Task OnInitializedAsync()
    {
        var contractors_service = await ContractorService.GetContractorAsync(id);

        contractor = contractors_service;
    }
}